{"version":3,"sources":["components/TextField/TextField.jsx","store/actions.js","store/selectors.js","components/FormField/FormFied.jsx","pages/CalculatorPage/CalculatorPage.jsx","pages/TextPage/TextPage.jsx","components/Header/Header.jsx","App.js","store/rootReducer.js","api.js","store/saga.js","store/index.js","index.js"],"names":["TextField","children","ACTION_TYPES","requestDataSuccess","data","type","payload","selectCurrencyUSD","createSelector","state","currencyRate","find","item","ccy","sale","slice","getIsLoading","isLoading","FormField","dispatch","useDispatch","rate","useSelector","useState","uahCyrrency","setUahCurrency","isSubmited","setIsSubmitted","useForm","register","handleSubmit","errors","onSubmit","currency","className","cn","name","ref","required","pattern","value","message","placeholder","toFixed","CalculatorPage","color","TextPage","query","URLSearchParams","useLocation","search","id","get","date","Header","to","activeClassName","Date","toLocaleDateString","App","exact","path","component","initialState","error","loadCurrencyRate","fetch","then","responce","json","rootSaga","fetchDataAsync","takeEvery","put","call","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","action","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e202b58e.chunk.js","sourcesContent":["import React from \"react\";\n\n\nexport const TextField = ({children}) => {\n  return (\n   <div>\n     {children}\n   </div>\n  );\n}","export const ACTION_TYPES = {\n  REQUESTED_DATA: 'REQUESTED_DATA',\n  REQUESTED_DATA_SUCCESS: 'REQUESTED_DATA_SUCCESS',\n  REQUESTED_DATA_FAIL: 'REQUESTED_DATA_FAIL',\n  FETCHED_DATA: 'FETCHED_DATA',\n};\n\nexport const requestData = () => {\n  return { type: ACTION_TYPES.REQUESTED_DATA }\n};\n\nexport const requestDataSuccess = (data) => {\n  return { type: ACTION_TYPES.REQUESTED_DATA_SUCCESS, payload: data }\n};\n\nexport const requestDataError = (error) => {\n  return { type: ACTION_TYPES.REQUESTED_DATA_FAIL, payload: error}\n};\n\nexport const fetchData = () => {\n  return { type: ACTION_TYPES.FETCHED_DATA }\n};","import { createSelector } from 'reselect';\n\nconst rootSelector = state => state;\n\nexport const selectCurrencyUSD = createSelector(\n  rootSelector,\n  ({ currencyRate }) => {\n    if (!currencyRate) {\n      return null;\n    }\n\n    return currencyRate.find(item => item.ccy === 'USD').sale.slice(0, -3);\n  }\n);\n\nexport const getIsLoading = state => state.isLoading;\nexport const getError = state => state.error;\n","import React, { useState } from \"react\";\nimport { useSelector } from 'react-redux'\nimport { useForm } from \"react-hook-form\";\nimport cn from 'classnames'\nimport { TextField } from \"../TextField/TextField\";\nimport { useDispatch } from 'react-redux';\nimport { fetchData } from '../../store/actions';\nimport { selectCurrencyUSD, getIsLoading } from '../../store/selectors';\nimport './FormField.scss';\n\nexport const FormField = () => {\n  const dispatch = useDispatch();\n  const rate = useSelector(selectCurrencyUSD);\n  const isLoading = useSelector(getIsLoading);\n  const [uahCyrrency, setUahCurrency] = useState();\n  const [isSubmited, setIsSubmitted] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = ({ currency }) => {\n    dispatch(fetchData())\n    setUahCurrency(currency);\n    setIsSubmitted(true)\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit(onSubmit)} className='form'>\n        <input \n          className={cn('form__input', {'form__input--error': errors.currency})}\n          name=\"currency\" \n          ref={\n            register({\n              required: 'Это поле обязательное',\n              pattern: {\n                value: /^\\d+$/,\n                message: 'Это поле должно содержать только цифры'\n              }\n            })\n          }\n          placeholder=\"Сумма, грн\"\n        />\n        <p className=\"form__error--message\">{errors.currency?.message}</p>\n         {isSubmited && !isLoading && \n            <TextField>\n              <p className=\"form__text\">\n                <b>{uahCyrrency} грн</b> по курсу{' '}\n                <b>{rate}$</b> это {' '}\n                <b>{(uahCyrrency / rate).toFixed(2)}$</b>\n              </p>\n            </TextField>\n          }\n        <input \n          className=\"button form__button\"\n          type=\"submit\" \n          value='Посчитать'\n          />\n      </form>\n      \n    </>\n  );\n}","import React from 'react';\nimport { useSelector } from 'react-redux'\nimport { FormField } from '../../components/FormField/FormFied';\nimport { getIsLoading } from '../../store/selectors';\nimport { SemipolarLoading } from 'react-loadingg';\n\nexport const CalculatorPage = () => {\n  const isLoading = useSelector(getIsLoading);\n\n  return (\n      <>\n      <h3 className=\"title\">Калькулятор</h3>\n      <FormField />\n      {isLoading && <SemipolarLoading color=\"#FF4A4A\"/>}\n      </>\n\n  );\n};\n\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { TextField } from '../../components/TextField/TextField';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport const TextPage = () => {\n  let query = useQuery();\n\n  const id = query.get(\"id\")\n  const date = query.get(\"date\")\n\n  return (\n    <>\n      <h3 className=\"title\">Текстовая страница</h3>\n      <TextField>\n        <p className='text'>\n          {\n            `Это простая текстовая страница \n            для отображения параметров роута. \n            Параметры:\n            - id: ${id}\n            - date: ${date}`\n          }\n        </p>\n      </TextField>\n      \n    </>\n  );\n};\n\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Header.scss';\n\nexport const Header = () => {\n  return (\n    <header>\n      <div className=\"container\">\n        <nav className=\"nav\">\n          <NavLink \n            to='/calculator' \n            className=\"nav__item button\"\n            activeClassName='nav__item--active'\n          >\n            Калькулятор\n          </NavLink>\n          <NavLink \n            to={`/text?id=1&date=${new Date().toLocaleDateString()}`}\n            className=\"nav__item button\"\n            activeClassName='nav__item--active'\n          >\n            Текстовая\n          </NavLink>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { CalculatorPage } from './pages/CalculatorPage/CalculatorPage';\nimport { TextPage } from './pages/TextPage/TextPage';\nimport { Header } from './components/Header/Header';\n\nconst App = () => {\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <main className=\"main\">\n        <Switch>\n          <div className=\"page\">\n            <Route exact path=\"/\">\n              <Redirect to=\"/calculator\" />\n            </Route>\n            <Route path=\"/calculator\" exact component={CalculatorPage} />\n            <Route path=\"/text\" component={TextPage} />\n          </div>\n        </Switch>\n      </main>\n    </div>\n  );\n};\n\n\nexport default App;\n","import { ACTION_TYPES } from './actions';\n\nconst initialState = {\n  currencyRate: null,\n  isLoading: false,\n  error: null,\n};\n\nexport const getRestourantsList = state => state.restourantsList;\n\nexport function rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case ACTION_TYPES.REQUESTED_DATA: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n\n    case ACTION_TYPES.REQUESTED_DATA_SUCCESS: {\n      const { payload } = action;\n\n      return {\n        ...state,\n        currencyRate: payload,\n        isLoading: false,\n      };\n    }\n\n    case ACTION_TYPES.REQUESTED_DATA_FAIL:\n      const { payload } = action;\n\n      return {\n        currencyRate: null,\n        isLoading: false,\n        error: payload,\n\n      };\n\n    default:\n      return state;\n  }\n}\n","const API_URL = 'https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5';\n\nexport const loadCurrencyRate = () => {\n  return (\n    fetch(API_URL)\n      .then(responce => responce.json())\n  )\n}\n","import { call, put, takeEvery } from 'redux-saga/effects'\nimport {requestData, requestDataError, requestDataSuccess, ACTION_TYPES } from './actions';\nimport { loadCurrencyRate } from '../api';\n\nexport function* rootSaga() {\n  yield takeEvery(ACTION_TYPES.FETCHED_DATA, fetchDataAsync);\n}\n\nfunction* fetchDataAsync() {\n  try {\n    yield put(requestData());\n    const data = yield call(loadCurrencyRate);\n    yield put(requestDataSuccess(data));\n  } catch (error) {\n    yield put(requestDataError(error.message));\n  }\n}\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport { rootReducer } from './rootReducer';\nimport { rootSaga }  from './saga';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst sagaMiddleware = createSagaMiddleware()\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(sagaMiddleware))\n);\n\nsagaMiddleware.run(rootSaga)","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport { store } from './store/index';\nimport './index.scss';\n\nReactDOM.render(\n\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}